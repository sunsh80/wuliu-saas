# 物流小程序前端设计文档

## 概述

这是一个基于微信小程序开发标准设计的物流系统前端界面，实现了匿名下单和登录后下单两种模式。

## 设计特点

### 1. 页面结构
- **地图背景页**: 作为首页，展示物流网络和车辆动态
- **下单页面**: 支持匿名扫码下单和表单下单
- **我的页面**: 登录后可查看订单状态、结算、地址等信息
- **订单列表页面**: 展示用户的订单详情

### 2. 功能模块

#### 匿名下单功能
- 扫码下单入口
- 快速表单填写
- 支持发货/收货信息、重量、体积等完整订单信息

#### 登录后功能
- **订单状态查询**: 查看所有订单及其状态
- **结算功能**: 颞值预留结算功能入口
- **常用地址**: 管理发货/收货常用地址
- **联系人管理**: 管理发货/收货联系人

### 3. UI/UX设计
- **移动端优先**: 针对手机屏幕优化的布局
- **简洁直观**: 清晰的信息层级和操作流程
- **视觉反馈**: 状态标签和交互反馈
- **手势友好**: 符合移动设备操作习惯

## 技术实现

### 前端技术栈
- HTML5
- CSS3 (Flexbox/Grid布局)
- JavaScript (ES6+)
- Font Awesome 图标库

### 响应式设计
- 使用 viewport meta 标签优化移动设备显示
- 适配不同屏幕尺寸
- 防止iOS Safari缩放问题

### API集成预留
- 订单创建: `POST /api/customer/orders`
- 订单查询: `GET /api/customer/orders`
- 用户认证: `POST /api/tenant-web/login`
- 用户注册: `POST /api/tenant-web/register`

## 页面功能详解

### 1. 地图背景页
- 显示物流网络可视化效果
- 动态车辆指示器
- 品牌宣传语

### 2. 下单页面
- 扫码下单入口
- 完整订单表单
  - 发货/收货地址
  - 货物重量/体积
  - 发货/收货人信息
  - 货物描述
- 提交按钮

### 3. 我的页面
- 用户信息展示
- 订单统计卡片
- 功能菜单网格
  - 订单状态查询
  - 结算功能
  - 常用地址
  - 联系人管理

### 4. 订单列表页面
- 订单卡片展示
- 状态标签系统
- 订单操作按钮

## 状态管理

### 订单状态
- `pending`: 待认领
- `claimed`: 已认领
- `awarded`: 已成交
- `in_transit`: 运输中
- `delivered`: 已送达
- `cancelled`: 已取消

### 用户状态
- 匿名用户
- 已登录用户
- 认证租户用户

## API接口预留

### 订单相关
```
POST /api/customer/orders - 创建订单
GET /api/customer/orders - 获取订单列表
GET /api/customer/orders/{orderId} - 获取订单详情
PUT /api/customer/orders/{orderId} - 更新订单
DELETE /api/customer/orders/{orderId} - 取消订单
```

### 用户相关
```
POST /api/tenant-web/login - 用户登录
POST /api/tenant-web/register - 用户注册
GET /api/tenant-web/profile - 获取用户资料
PUT /api/tenant-web/profile - 更新用户资料
```

### 财务相关
```
GET /api/finance/overview - 财务概览
GET /api/finance/transactions - 交易明细
POST /api/finance/reconciliation - 财务核对
```

## 安全考虑

1. **输入验证**: 前端表单验证
2. **会话管理**: 基于Cookie的认证
3. **数据保护**: 敏感信息加密传输
4. **防重复提交**: 表单提交状态管理

## 性能优化

1. **资源压缩**: CSS/JS最小化
2. **图片优化**: 使用矢量图标
3. **缓存策略**: 合理使用浏览器缓存
4. **懒加载**: 长列表内容懒加载

## 后续开发建议

1. **真实API集成**: 连接真实的后端API
2. **地图集成**: 集成真实的地图服务
3. **定位服务**: 集成GPS定位功能
4. **推送通知**: 集成订单状态推送
5. **离线功能**: 实现离线订单草稿功能
6. **支付集成**: 集成在线支付功能

## 文件结构

- `wx_program_frontend.html` - 主页面文件
- 集成CSS样式和JavaScript逻辑

这个设计为物流小程序提供了完整的前端解决方案，支持匿名和认证两种下单模式，为后续开发奠定了坚实基础。