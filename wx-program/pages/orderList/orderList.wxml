<!-- pages/orderList/orderList.wxml -->
<view class="container">
  <view class="header">
    <text class="title">我的订单</text>
  </view>

  <view class="orders-list">
    <block wx:for="{{orders}}" wx:key="id">
      <view class="order-item" bindtap="goToDetail" data-id="{{item.id}}">
        <view class="order-header">
          <text class="order-id">订单号: {{item.id}}</text>
          <text class="status status-{{item.status}}">{{getStatusText(item.status)}}</text>
        </view>
        <view class="order-info">
          <view class="info-row">
            <text class="label">货物:</text>
            <text class="value">{{item.goods_description || '待填写'}}</text>
          </view>
          <view class="info-row">
            <text class="label">取货:</text>
            <text class="value">{{item.pickup_location && item.pickup_location.address ? item.pickup_location.address : '待填写'}}</text>

          </view>
          <view class="info-row">
            <text class="label">派送:</text>
            <text class="value">{{item.delivery_location && item.delivery_location.address ? item.delivery_location.address : '待填写'}}</text>
          </view>
          <view class="info-row">
            <text class="label">创建时间:</text>
            <text class="value">{{item.created_at}}</text>
          </view>
        </view>
      </view>
    </block>

    <!-- 空列表提示 -->
    <view wx:if="{{!loading && orders.length === 0}}" class="empty-tips">
      <text>暂无订单</text>
    </view>
  </view>

  <!-- 加载提示 -->
  <view wx:if="{{loading}}" class="loading">
    <text>加载中...</text>
  </view>
</view>