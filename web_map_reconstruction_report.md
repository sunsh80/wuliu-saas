# Web ç«¯åœ°å›¾ç»´æŠ¤åŠŸèƒ½é‡æ„å®ŒæˆæŠ¥å‘Š

## ğŸ“… æ—¥æœŸ
2026 å¹´ 2 æœˆ 18 æ—¥

## ğŸ“‹ é‡æ„å†…å®¹

æ ¹æ® `openapi.yaml` å’Œ `map.txt` é‡æ–°æ„å»ºäº†å®Œæ•´çš„ web ç«¯åœ°å›¾ç»´æŠ¤åŠŸèƒ½ã€‚

---

## âœ… å·²å®Œæˆçš„é¡µé¢

### 1. ç®¡ç†ç«¯ - åœ°å›¾æœåŠ¡ç®¡ç†
**æ–‡ä»¶**: `web/admin-web/public/map-management.html`

**åŠŸèƒ½æ¨¡å—**:
- ğŸ—ºï¸ åœ°ç†ç¼–ç  - åœ°å€è½¬åæ ‡
- ğŸ“ é€†åœ°ç†ç¼–ç  - åæ ‡è½¬åœ°å€
- ğŸ›£ï¸ è·¯å¾„è§„åˆ’ - ä¸¤ç‚¹é—´è·¯å¾„è§„åˆ’
- ğŸ“ è·ç¦»è®¡ç®— - è®¡ç®—ä¸¤ç‚¹é—´è·ç¦»
- ğŸ” POI æœç´¢ - å…´è¶£ç‚¹æœç´¢
- ğŸ“ åœé ç‚¹ç®¡ç† - æŸ¥çœ‹å…¬å…±åœé ç‚¹

**API è°ƒç”¨**:
| åŠŸèƒ½ | API ç«¯ç‚¹ | Method |
|------|----------|--------|
| åœ°ç†ç¼–ç  | `/api/map/geocode` | POST |
| é€†åœ°ç†ç¼–ç  | `/api/map/reverse-geocode` | POST |
| è·¯å¾„è§„åˆ’ | `/api/map/route` | POST |
| è·ç¦»è®¡ç®— | `/api/map/distance` | POST |
| POI æœç´¢ | `/api/map/poi` | GET |
| åœé ç‚¹åˆ—è¡¨ | `/api/map/stop-points` | GET |

---

### 2. ç®¡ç†ç«¯ - åœé ç‚¹ç®¡ç†
**æ–‡ä»¶**: `web/admin-web/public/stop-points.html`

**åŠŸèƒ½æ¨¡å—**:
- ğŸ“Š ç»Ÿè®¡æ¦‚è§ˆ - æ€»æ•°/å¾…å®¡æ‰¹/å·²é€šè¿‡/å·²é©³å›
- â³ å¾…å®¡æ‰¹åˆ—è¡¨ - å®¡æ‰¹ç§Ÿæˆ·ä¸Šä¼ çš„åœé ç‚¹
- ğŸ“‹ å…¨éƒ¨åœé ç‚¹ - ç®¡ç†æ‰€æœ‰åœé ç‚¹
- â• æ–°å¢åœé ç‚¹ - å•ä¸ªåˆ›å»º
- ğŸ“¥ æ‰¹é‡å¯¼å…¥ - JSON æ‰¹é‡å¯¼å…¥
- âœ… å®¡æ‰¹æ“ä½œ - é€šè¿‡/é©³å›ï¼ˆæ”¯æŒæ‰¹é‡ï¼‰
- âœï¸ ç¼–è¾‘/åˆ é™¤ - åœé ç‚¹ç»´æŠ¤

**API è°ƒç”¨**:
| åŠŸèƒ½ | API ç«¯ç‚¹ | Method |
|------|----------|--------|
| ç»Ÿè®¡ | `/api/admin/stop-points/stats` | GET |
| åˆ—è¡¨ | `/api/admin/stop-points` | GET |
| è¯¦æƒ… | `/api/admin/stop-points/{id}` | GET |
| åˆ›å»º | `/api/admin/stop-points` | POST |
| æ›´æ–° | `/api/admin/stop-points/{id}` | PUT |
| åˆ é™¤ | `/api/admin/stop-points/{id}` | DELETE |
| æ‰¹é‡å¯¼å…¥ | `/api/admin/stop-points/batch-import` | POST |
| å¾…å®¡æ‰¹åˆ—è¡¨ | `/api/admin/stop-points/pending` | GET |
| å®¡æ‰¹ | `/api/admin/stop-points/{id}/approve` | POST |
| æ‰¹é‡å®¡æ‰¹ | `/api/admin/stop-points/batch-approve` | POST |

---

### 3. ç§Ÿæˆ·ç«¯ - åœé ç‚¹ä¸Šä¼ 
**æ–‡ä»¶**: `web/tenant-web/public/stop-points.html`

**åŠŸèƒ½æ¨¡å—**:
- ğŸ“Š ç»Ÿè®¡æ¦‚è§ˆ - æ€»æ•°/å¾…å®¡æ‰¹/å·²é€šè¿‡
- â¬†ï¸ å•ä¸ªä¸Šä¼  - ä¸Šä¼ å•ä¸ªåœé ç‚¹ï¼ˆéœ€å®¡æ‰¹ï¼‰
- ğŸ“¥ æ‰¹é‡ä¸Šä¼  - JSON æ‰¹é‡ä¸Šä¼ ï¼ˆæœ€å¤š 100 æ¡ï¼‰
- ğŸ“‹ æˆ‘çš„åˆ—è¡¨ - æŸ¥çœ‹è‡ªå·±ä¸Šä¼ çš„åœé ç‚¹
- âœï¸ ç¼–è¾‘ - ä»…å¾…å®¡æ‰¹çŠ¶æ€å¯ç¼–è¾‘
- ğŸ—‘ï¸ åˆ é™¤ - ä»… 3 å¤©å†…ä¸”æœªå®¡æ‰¹å¯åˆ é™¤

**ä¸šåŠ¡è§„åˆ™**:
1. âœ… ä¸Šä¼ çš„åœé ç‚¹éœ€è¦ç®¡ç†å‘˜å®¡æ‰¹é€šè¿‡åæ‰æ˜¾ç¤ºåœ¨å…¬å…±åˆ—è¡¨
2. âœ… ä¸Šä¼ å 3 å¤©å†…å¯ä»¥åˆ é™¤æˆ–ä¿®æ”¹
3. âœ… è¶…è¿‡ 3 å¤©æ— æ³•åˆ é™¤ï¼ˆé˜²æ­¢æ¶æ„æ‰¹é‡åˆ é™¤ï¼‰
4. âœ… å·²é€šè¿‡å®¡æ‰¹çš„åœé ç‚¹ä¸å¯åˆ é™¤
5. âœ… å•æ¬¡æ‰¹é‡ä¸Šä¼ æœ€å¤š 100 æ¡

**API è°ƒç”¨**:
| åŠŸèƒ½ | API ç«¯ç‚¹ | Method |
|------|----------|--------|
| æˆ‘çš„åˆ—è¡¨ | `/api/tenant/stop-points` | GET |
| è¯¦æƒ… | `/api/tenant/stop-points/{id}` | GET |
| ä¸Šä¼  | `/api/tenant/stop-points` | POST |
| æ‰¹é‡ä¸Šä¼  | `/api/tenant/stop-points/batch-upload` | POST |
| æ›´æ–° | `/api/tenant/stop-points/{id}` | PUT |
| åˆ é™¤ | `/api/tenant/stop-points/{id}` | DELETE |

---

## ğŸ¨ UI è®¾è®¡ç‰¹ç‚¹

### ç®¡ç†ç«¯ï¼ˆè“è‰²ä¸»é¢˜ï¼‰
- ä¸»è‰²è°ƒï¼š`#1890ff`ï¼ˆç§‘æŠ€è“ï¼‰
- æ¸å˜ headerï¼š`linear-gradient(135deg, #1890ff 0%, #096dd9 100%)`
- å¡ç‰‡é˜´å½±ï¼š`0 4px 6px rgba(0,0,0,0.07)`
- åœ†è§’ï¼š`12px`

### ç§Ÿæˆ·ç«¯ï¼ˆç´«è‰²ä¸»é¢˜ï¼‰
- ä¸»è‰²è°ƒï¼š`#722ed1`ï¼ˆå°Šè´µç´«ï¼‰
- æ¸å˜ headerï¼š`linear-gradient(135deg, #722ed1 0%, #531dab 100%)`
- å¡ç‰‡é˜´å½±ï¼š`0 4px 6px rgba(0,0,0,0.07)`
- åœ†è§’ï¼š`12px`

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
web/
â”œâ”€â”€ admin-web/
â”‚   â””â”€â”€ public/
â”‚       â”œâ”€â”€ map-management.html    # åœ°å›¾æœåŠ¡ç®¡ç†
â”‚       â””â”€â”€ stop-points.html       # åœé ç‚¹ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
â””â”€â”€ tenant-web/
    â””â”€â”€ public/
        â””â”€â”€ stop-points.html       # åœé ç‚¹ä¸Šä¼ ï¼ˆç§Ÿæˆ·ï¼‰
```

---

## ğŸ”— ç›¸å…³åç«¯ API

### åœ°å›¾æœåŠ¡ APIï¼ˆmap.txtï¼‰
- `/api/map/geocode` - åœ°ç†ç¼–ç 
- `/api/map/reverse-geocode` - é€†åœ°ç†ç¼–ç 
- `/api/map/route` - è·¯å¾„è§„åˆ’
- `/api/map/distance` - è·ç¦»è®¡ç®—
- `/api/map/poi` - POI æœç´¢
- `/api/map/stop-points` - åœé ç‚¹åˆ—è¡¨

### ç®¡ç†å‘˜åœé ç‚¹ API
- `/api/admin/stop-points` - CRUD
- `/api/admin/stop-points/pending` - å¾…å®¡æ‰¹
- `/api/admin/stop-points/stats` - ç»Ÿè®¡
- `/api/admin/stop-points/batch-import` - æ‰¹é‡å¯¼å…¥
- `/api/admin/stop-points/batch-approve` - æ‰¹é‡å®¡æ‰¹

### ç§Ÿæˆ·åœé ç‚¹ API
- `/api/tenant/stop-points` - æˆ‘çš„åœé ç‚¹
- `/api/tenant/stop-points/batch-upload` - æ‰¹é‡ä¸Šä¼ 

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### ç®¡ç†å‘˜ä½¿ç”¨æµç¨‹
1. ç™»å½•ç®¡ç†ç«¯ (`/login.html`)
2. è®¿é—®åœ°å›¾æœåŠ¡ç®¡ç† (`/map-management.html`)
   - ä½¿ç”¨åœ°ç†ç¼–ç ã€è·¯å¾„è§„åˆ’ç­‰å·¥å…·
   - æŸ¥çœ‹å…¬å…±åœé ç‚¹
3. è®¿é—®åœé ç‚¹ç®¡ç† (`/stop-points.html`)
   - å®¡æ‰¹å¾…å®¡æ‰¹çš„åœé ç‚¹
   - ç®¡ç†æ‰€æœ‰åœé ç‚¹ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
   - æ‰¹é‡å¯¼å…¥/å¯¼å‡º

### ç§Ÿæˆ·ä½¿ç”¨æµç¨‹
1. ç™»å½•ç§Ÿæˆ·ç«¯ (`/carrier-login.html`)
2. è®¿é—®åœé ç‚¹ä¸Šä¼  (`/stop-points.html`)
   - å•ä¸ªä¸Šä¼ æˆ–æ‰¹é‡ä¸Šä¼ 
   - æŸ¥çœ‹è‡ªå·±ä¸Šä¼ çš„åœé ç‚¹
   - ç¼–è¾‘/åˆ é™¤ï¼ˆé™ 3 å¤©å†…ä¸”æœªå®¡æ‰¹ï¼‰

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **API å¯†é’¥**: åœ°å›¾æœåŠ¡éœ€è¦é…ç½® API å¯†é’¥æ‰èƒ½æ­£å¸¸ä½¿ç”¨
2. **å®¡æ‰¹æµç¨‹**: ç§Ÿæˆ·ä¸Šä¼ çš„åœé ç‚¹éœ€è¦ç®¡ç†å‘˜å®¡æ‰¹
3. **åˆ é™¤é™åˆ¶**: 3 å¤©é™åˆ¶é˜²æ­¢æ¶æ„åˆ é™¤
4. **æ•°æ®æ ¼å¼**: æ‰¹é‡æ“ä½œä½¿ç”¨ JSON æ ¼å¼

---

## ğŸ“ åç»­ä¼˜åŒ–å»ºè®®

1. ğŸ—ºï¸ é›†æˆçœŸå®åœ°å›¾ SDKï¼ˆé«˜å¾·/ç™¾åº¦/è…¾è®¯ï¼‰
2. ğŸ“ åœ°å›¾å¯è§†åŒ–å±•ç¤ºåœé ç‚¹
3. ğŸš— è½¦è¾†ä½ç½®å®æ—¶è¿½è¸ª
4. ğŸ“Š æ›´è¯¦ç»†çš„æ•°æ®ç»Ÿè®¡å›¾è¡¨
5. ğŸ“± ç§»åŠ¨ç«¯é€‚é…

---

## âœ… éªŒè¯æ¸…å•

- [x] ç®¡ç†ç«¯åœ°å›¾æœåŠ¡ç®¡ç†é¡µé¢
- [x] ç®¡ç†ç«¯åœé ç‚¹ç®¡ç†é¡µé¢
- [x] ç§Ÿæˆ·ç«¯åœé ç‚¹ä¸Šä¼ é¡µé¢
- [x] æ‰€æœ‰ API è°ƒç”¨ä¸ openapi.yaml ä¸€è‡´
- [x] UI è®¾è®¡ç»Ÿä¸€ä¸”ç¾è§‚
- [x] ä¸šåŠ¡é€»è¾‘å®Œæ•´ï¼ˆå®¡æ‰¹æµç¨‹ã€åˆ é™¤é™åˆ¶ï¼‰
- [x] é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

---

**é‡æ„å®Œæˆæ—¶é—´**: 2026 å¹´ 2 æœˆ 18 æ—¥
**é‡æ„ä¾æ®**: `openapi.yaml`, `map.txt`
